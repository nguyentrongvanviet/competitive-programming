/****************************************************************             Author : Nguyen Trong Van Viet                   **                        Age : 17                              **      School : 12T2 Le Khiet High School for the Gifted       **            Hometown :  Quang Ngai , Viet Nam .               ** Khanh An is my lover :) the more I code  , the nearer I am   *****************************************************************/#define TASK "text"#define INPUT TASK".INP" #define OUTPUT TASK".OUT"bool mtt = 0 ;int test = 1 ;  #include<bits/stdc++.h>using namespace std; #define             ll  long long #define             db  double #define             ve  vector #define             vi  vector<int>#define            vll  vector<ll>#define            str  string#define             pb  push_back#define             pk  pop_back#define             el  '\n'#define            pii  pair<int,int>#define            pll  pair<ll,ll>#define             mp  make_pair #define             fi  first #define             se  second#define         uni(a)  sort(all(a)),a.resize(unique(all(a))-a.begin()) #define     FOR(i,a,b)  for(int i=(int)(a);i<=(int)(b);i++)#define    FORD(i,a,b)  for(int i=(int)(a);i>=(int)(b);i--)#define    FORN(i,a,b)  for(int i=(int)(a);i<(int)(b);i++)#define         all(a)  a.begin(),a.end()  #define             LB  lower_bound#define             UB  upper_bound #define            tct  template<class T>#define     BIT(msk,i)  (msk>>(i)&1)#define        M(i)  (1ll<<(i))#define          SZ(_)  (int)(_.size())#define           btpc  __builtin_popcountll#define            ctz  __builtin_ctzll ll lg(ll a){return __lg(a);}ll sq(ll a){return a*a;}  ll gcd(ll a,ll b){return __gcd(a,b);} ll lcm(ll a,ll b){return a/gcd(a,b)*b;}ll rd(ll l , ll r ){return l+1LL*rand()*rand()%(r-l+1);}#define prt(a,n) FOR(_i,1,n)cout<<a[_i]<<" ";cout<<el;#define prv(a) for(auto _v:a)cout<<_v<<" "; cout<<el; tct bool mini(T& a,T b){return (a>b)?a=b,1:0;}tct bool maxi(T& a,T b){return (a<b)?a=b,1:0;}int xx[] = {0,-1,0,1} ; int yy[] = {-1,0,1,0} ;const db PI = acos(-1) , EPS = 1e-9;const ll inf = 1e18 , cs = 331 , sm = 1e9+7; const int N = 2e5+5 , oo = 2e9 , LO = 17 , CH = 26 ; int n ;ll a[N] , b[N] ; void doc(){    cin>> n ;     FOR(i,1,n)cin>>a[i]>>b[i] ; }namespace sub1{    void xuly()    {    	ll res = 0 ;     	FOR(i,1,n)    	{    		ll mia = oo , mib = oo ;     		FOR(j,i,n)	    	{	    		mini(mia,a[j]) ; 	    		mini(mib,b[j]) ;	    		maxi(res,mia*mib*(j-i+1))  ;  	    	}	    }	    cout<<res<<el;     }}namespace sub2{	struct line	{		ll a , b ; 		line(ll _a = 0 , ll _b = 0 ) 		{			a = _a ; 			b = _b ; 		}		ll operator()(ll x)		{			return a*x+b ;		}		ll operator / (line x  )		{			return 1.0*(b-x.b)/(x.a-a) ; 		}	}; 	struct CHT	{		deque<line> q ;		void add(line L )		{			while(SZ(q)>1&&q[SZ(q)-2]/L>=q.back()/L)q.pk() ;			q.pb(L) ; 		}		ll get(ll x)		{			assert(SZ(q));			while(SZ(q)>1&&q[1](x)>=q[0](x))q.pop_front() ; 			return q[0](x) ;  		}	};	CHT st[2*N] ; 	struct tree	{		int L , R ; 		void reset(int _L=0 , int _R=0)		{			L=_L ;			R=_R ;			FOR(i,1,4*(R-L+1))st[i].q.clear() ;  		}		void up(int id ,int l ,int r, int pos, line L)		{			if(r<pos||pos<l)return ; 			st[id].add(L) ; 			if(l==r)return ;			int mid = (l+r)>>1; 			up(id<<1,l,mid,pos,L)	  ; 			up(id<<1|1,mid+1,r,pos,L)	  ; 		}		ll get(int id , int l, int r,int t, int p , ll x )		{			if(t<=l&&r<=p)return st[id].get(x) ; 			if(r<t||p<l)return 0 ; 			int mid = (l+r)>>1; 			return max(get(id<<1,l,mid,t,p,x),get(id<<1|1,mid+1,r,t,p,x)) ;  		} 		void up(int pos ,ll a , ll b)		{			up(1,L,R,pos,line(a,b)) ; 		}			ll get(int l , int r , ll x)		{			return get(1,L,R,l,r,x) ; 		}	}T;	ll res = 0 ; 	ll AL[N] , BL[N] , ar[N] , br[N] ; 	void solve(int l ,int r)	{		if(l>r)return ; 		if(l==r) 		{ 			maxi(res,a[l]*b[l]*1) ; 			return ; 		}		int mid = (l+r)>>1;		ar[mid-1] = br[mid-1] = oo ;  		FOR(i,mid,r)		{			ar[i]=min(ar[i-1],a[i]) ; 			br[i]=min(br[i-1],b[i]) ; 		}		AL[mid+1] = BL[mid+1] = oo ; 		FORD(i,mid,l)		{			AL[i] =min(AL[i+1],a[i]) ; 			BL[i] =min(BL[i+1],b[i]) ; 		}		// a<=mid  , b<=mid ; 		int it = r ;  		FOR(i,l,mid)		{			while(it>mid && ( AL[i]>ar[it] || BL[i]>br[it] ) )--it;			maxi(res,AL[i]*BL[i]*(it-i+1)) ; 		}			// mid <= a , mid <= b 		it=l;		FORD(i,r,mid)		{			while(it<mid && ( ar[i]>AL[it] || br[i]>BL[it] ) )++it;			maxi(res,ar[i]*br[i]*(i-it+1)) ;		}		// a<=mid && mid<=b		T.reset(mid,r) ; 		FOR(i,mid,r)		{			T.up(i,-br[i],br[i]*(i+1)) ; 		}		int ita=r ;		int itb=r+1 ;		FOR(i,l,mid)		{			while(ita>mid&&(AL[i]>ar[ita]))--ita;			while(itb-1>=mid&&(BL[i]>br[itb-1]))--itb;			maxi(res,AL[i]*T.get(itb,ita,i));		}		// mid<=a && b<=mid 		T.reset(l,mid);		FOR(i,l,mid)		{				T.up(i,BL[i],BL[i]*(1-i));		}		ita = mid ; 		itb = mid ;		FOR(i,mid,r)		{			while(ita-1>=l&&(ar[i]<AL[ita-1]))--ita; 			while(itb>=l&&(br[i]<BL[itb]))--itb;			maxi(res,ar[i]*T.get(ita,itb,i));		}		solve(l,mid-1) ; 		solve(mid+1,r) ; 	}	void xuly()	{			solve(1,n) ; 				cout<<res;	}}/*  DON'T BELIEVE LOVE WILL INSPIRE YOU ->  TRAIN HARDER ->  YOU WILL GET THE LOVE YOU WANT !!*/signed main(){    ios_base::sync_with_stdio(0);cin.tie(0);cout.tie(0);srand(time(0));     if(fopen(INPUT,"r"))    {        freopen(INPUT ,"r",stdin) ;        freopen(OUTPUT,"w",stdout);    }    else if(fopen("text.INP","r"))    {        freopen("text.INP","r",stdin) ;         freopen("text.OUT","w",stdout) ;       }    if(mtt)cin>>  test;    FOR(i,1,test)    {        doc() ;         // sub1::xuly() ;         sub2::xuly() ;    }    cerr<<el<<"Love KA very much !!! " << clock() <<"ms"<<el;}